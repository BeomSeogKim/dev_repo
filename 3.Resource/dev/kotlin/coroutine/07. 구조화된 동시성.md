> 비동기 작업을 구조화 하여 보다 안정적이고 예측 가능하게 만드는 원칙
> 부모 - 자식 관계로 구조화 하여 코루틴이 보다 안전하게 관리되고 제어할 수 있도록 한다.
> 부모 - 자식 관계로 구조화 하기 위해선, 코루틴 빌더 함수의 람다식 안에서 새로운 코루틴 빌더 함수를 호출


### 실행 환경 상속

부모 코루틴은 자식 코루틴에게 실행 환경을 상속한다.
부모 코루틴이 자식 코루틴 생성 시 부모 코루틴의 CoroutineContext가 자식 코루틴에게 전달됨
 만약 자식 코루틴을 생성하는 코루틴 빌더 함수에, 새로운 CoroutineContext 객체가 전달되면 덮어씌워짐

모든 코루틴 빌더 함수는 호출 시마다 Job 객체를 새로 생성한다.
생성된 Job은 내부의 값을 통해 연관 관계를 맺는다.
- 부모 코루틴 : children 값에 생성된 Job을 추가
- 자식 코루틴 : parent 값에 부모 코루틴 Job 을 추가 

### 코루틴의 구조화, 작업제어
> 코루틴의 구조화는 하나의 큰 비동기 작업을 작은 비동기 작업으로 나눌 때 일어난다.

#### 취소의 전파 
> 코루틴으로 취소가 요청되면 자식 코루틴에도 취소 요청이 전파된다.
![[05_coroutine_cancel.png]]

#### 부모 - 자식 코루틴 간 완료 의존성 
> 부모 코루틴은 모든 자식 코루틴이 실행 완료 되어야 완료가 될 수 있음
> 부모 코루틴은 모든 코드가 실행이 완료되었으나, 자식 코루틴이 실행중일 경우 `실행 완료중` 이라는 상태값을 가짐




